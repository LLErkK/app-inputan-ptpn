<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Input Produksi Baku</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/input-baku.css">
    <link rel="stylesheet" href="../css/baku-table.css">
</head>
<body>
<div class="baku-container">
    <h1>INPUT PRODUKSI BAKU</h1>

    <!-- Popup Mandor -->
    <div id="popupMandor" class="popup-mandor" style="display:none;">
        <div class="popup-mandor-content" style="display:flex; flex-direction:row; gap:32px; align-items:flex-start; justify-content:center;">
            <div style="flex:1; min-width:260px;">
                <h3>TAMBAH MANDOR</h3>
                <form id="formMandorBaru" class="baku-form" style="box-shadow:none; border:none; padding:0;">
                    <div class="form-row" style="grid-template-columns: 1fr;">
                        <div class="form-group">
                            <label for="inputNamaMandor">Nama Mandor</label>
                            <input type="text" id="inputNamaMandor"  required>
                        </div>
                    </div>
                    <div class="form-row" style="grid-template-columns: 1fr;">
                        <div class="form-group">
                            <label for="inputTahunTanam">Tahun Tanam</label>
                            <input type="text" id="inputTahunTanam" required>
                        </div>
                    </div>
                    <div class="form-row" style="grid-template-columns: 1fr;">
                        <div class="form-group">
                            <label for="inputAfdeling">Afdeling</label>
                            <input type="text" id="inputAfdeling" required>
                        </div>
                    </div>
                    <div class="form-row" style="grid-template-columns: 1fr;">
                        <div class="form-group" style="display:flex; align-items:flex-end;">
                            <button type="submit" class="save-btn" style="margin-bottom:0;">Save</button>
                        </div>
                    </div>
                </form>
            </div>
            <div style="flex:2; min-width:320px;">
                <h3>DAFTAR MANDOR</h3>
                <table class="mandor-table baku-table">
                    <thead>
                        <tr>
                            <th>Nama Mandor</th>
                            <th>Tahun Tanam</th>
                            <th>Afdeling</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="mandorTableBody">
                        <!-- Data mandor akan diisi JS -->
                    </tbody>
                </table>
            </div>
            <button type="button" id="closePopupMandor" class="close-popup-btn" style="position:absolute; top:24px; right:24px;">X</button>
        </div>
    </div>

    <form class="baku-form" id="bakuForm">
        <div class="form-row">
            <div class="form-group" style="grid-column: span 2;">
                <label for="mandor">NAMA Mandor</label>
                <div style="display:flex; flex-direction:row; gap:8px; align-items:center;">
                    <select id="mandor" name="idBakuMandor" required style="width:100%;">
                        <option value="">-- Pilih Mandor --</option>
                        {{range .MandorList}}
                            <option value="{{.ID}}">{{.Mandor}} ({{.Afdeling}}) {{.TahunTanam}}</option>
                        {{end}}
                    </select>
                    <button type="button" id="tambahMandor" class="tambah-mandor-btn">
                        <span class="tambah-mandor-icon">+</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="namaPenyadap">Nama Penyadap</label>
                    <input type="text" id="namaPenyadap" placeholder="Cari nama..." autocomplete="off" required>
                    <input type="hidden" id="idPenyadap" name="idPenyadap" required>
                    <div id="namaDropdown" class="dropdown-list" style="display:none;"></div>
            </div>
            <div class="form-group">
                <label for="nik">NIK</label>
                <input type="text" id="nik" readonly required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="latek">Basah Latek</label>
                <input type="number" id="latek" name="basahLatex" step="any" required>
            </div>
            <div class="form-group">
                <label for="lump">Basah Lump</label>
                <input type="number" id="lump" name="basahLump" step="any" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="sheet">Jumlah Sheet</label>
                <input type="number" id="sheet" name="sheet" step="any" required>
            </div>
            <div class="form-group">
                <label for="brcr">Br.Cr</label>
                <input type="number" id="brcr" name="brcr" step="any" required>
            </div>
        </div> 

        <div class="form-row">
            <button type="submit" class="save-btn">Save</button>
        </div>
    </form>

    <div class="baku-table-container">
        <h2>Data Produksi Baku</h2>
        <table class="baku-table" id="bakuTable">
            <thead>
            <tr>
                <th>Mandor</th>
                <th>NIK</th>
                <th>Penyadap</th>
                <th>Basah Latek</th>
                <th>Basah Lump</th>
                <th>Jumlah Sheet</th>
                <th>Br.Cr</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <!-- Data akan diisi oleh JS -->
            </tbody>
        </table>
    </div>
</div>
</body>
<script src="../js/baku.js"></script>
</html>
